company listen-home

[janson@localhost koolnet]$ ./ctest -user="janson" -password="janson"
2015/12/21 11:11:04 Got clientId: 8 IP 183.16.171.56
2015/12/21 11:11:04 starting
2015/12/21 11:11:04 init pong 183.16.171.56:42407
2015/12/21 11:11:04 resetLocalAddrs: [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407]
2015/12/21 11:11:05 Request from myself
2015/12/21 11:11:05 resetLocalAddrs: [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407]
2015/12/21 11:11:05 got from myself [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407] [172.17.42.1:52416 10.1.1.98:52416 116.30.171.74:52416]
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Notify remote for shaking 8 [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407]
2015/12/21 11:11:05 Got n= 64 from 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 64 from 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 64 from 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 103 from 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 103 from 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 103 from 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 142 from 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 142 from 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:11:05 choose ok 116.30.171.74:52416;183.16.171.56:42407 183.16.171.56:42407 116.30.171.74:52416
2015/12/21 11:11:05 Got n= 18 from 116.30.171.74:52416
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:05 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:05 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:05 Response notify remote for shake 8
2015/12/21 11:11:09 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:09 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:09 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:09 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:09 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:09 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:09 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:09 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:09 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:14 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:14 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:14 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:14 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:14 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:14 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:14 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:14 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:14 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:19 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:19 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:19 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:19 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:19 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:19 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:19 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:19 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:19 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:24 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:24 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:24 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:24 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:24 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:24 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:24 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:24 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:24 shakeOne To 116.30.171.74:52416


[janson@janson koolnet]$ 
[janson@janson koolnet]$ 
[janson@janson koolnet]$ 
[janson@janson koolnet]$  ./ctest -listen="10.1.1.91:8080;127.0.0.1:8890" -password="janson" -user="janson"
2015/12/21 11:00:33 Got clientId: 0 IP 116.30.171.74
2015/12/21 11:00:33 starting
2015/12/21 11:00:35 create new p2pclient, from= 8 remoteaddrs [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407]
2015/12/21 11:00:35 init pong 116.30.171.74:52416
2015/12/21 11:00:35 resetLocalAddrs: [172.17.42.1:52416 10.1.1.98:52416 116.30.171.74:52416]
2015/12/21 11:00:35 resetLocalAddrs: [172.17.42.1:52416 10.1.1.98:52416 116.30.171.74:52416]
2015/12/21 11:00:35 got from themself [172.17.42.1:52416 10.1.1.98:52416 116.30.171.74:52416] [192.168.1.23:42407 172.17.42.1:42407 183.16.171.56:42407]
2015/12/21 11:00:35 shakeOne To 192.168.1.23:42407
2015/12/21 11:00:35 shakeOne To 172.17.42.1:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 192.168.1.23:42407
2015/12/21 11:00:35 shakeOne To 172.17.42.1:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 62 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 62 from 183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 192.168.1.23:42407
2015/12/21 11:00:35 shakeOne To 172.17.42.1:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 62 from 183.16.171.56:42407
2015/12/21 11:00:35 Response notify remote for shake 0
2015/12/21 11:00:35 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 142 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 142 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 142 from 183.16.171.56:42407
2015/12/21 11:00:35 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 handleShakeingMsg sid 116.30.171.74:52416;183.16.171.56:42407
2015/12/21 11:00:35 choose ok 116.30.171.74:52416;183.16.171.56:42407 116.30.171.74:52416 183.16.171.56:42407
2015/12/21 11:00:35 shakeOne To 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 142 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 18 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:35 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:40 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:40 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:40 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:45 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:45 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:45 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:50 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:50 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:50 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:55 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:55 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:00:55 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:01:00 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:01:00 Got n= 64 from 183.16.171.56:42407
2015/12/21 11:01:00 Got n= 64 from 183.16.171.56:42407




2015/12/21 11:11:29 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:29 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:29 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:29 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:29 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:29 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:29 shakeOne To 172.17.42.1:52416
2015/12/21 11:11:29 shakeOne To 10.1.1.98:52416
2015/12/21 11:11:29 shakeOne To 116.30.171.74:52416
2015/12/21 11:11:35 tcpReadLoop error:  message: readMessageError
2015/12/21 11:11:35 waiting for 5s for reconnect
[janson@localhost koolnet]$ 

tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on pppoe-wan, link-type LINUX_SLL (Linux cooked), capture size 65535 bytes
11:11:04.941524 IP 183.16.171.56.42407 > 115.28.237.155.18886: UDP, length 54
11:11:04.990759 IP 115.28.237.155.18886 > 183.16.171.56.42407: UDP, length 73
11:11:05.067854 IP 183.16.171.56.30187 > public1.alidns.com.domain: 41533+ PTR? 155.237.28.115.in-addr.arpa. (45)
11:11:05.142420 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.142530 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.152654 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.152661 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.162935 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.162942 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.232391 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 64
11:11:05.233169 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 62
11:11:05.242378 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 64
11:11:05.242940 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 62
11:11:05.253047 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 64
11:11:05.253603 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 62
11:11:05.263764 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 103
11:11:05.263776 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 103
11:11:05.263874 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 103
11:11:05.264607 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 142
11:11:05.264618 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 142
11:11:05.264734 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 142
11:11:05.272223 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 142
11:11:05.272234 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 142
11:11:05.273092 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 142
11:11:05.273266 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 18
11:11:05.280350 IP 116.30.171.74.52416 > 183.16.171.56.42407: UDP, length 18
11:11:05.311521 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.311528 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.321883 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.321891 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.332209 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:05.332215 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:05.565734 IP public1.alidns.com.domain > 183.16.171.56.30187: 41533 NXDomain 0/0/0 (45)

11:11:09.941407 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:09.941418 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:09.951709 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:09.951716 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:09.962066 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:09.962076 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:14.941399 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:14.941419 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:14.951699 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:14.951708 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:14.961955 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:14.961964 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:19.941367 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:19.941378 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:19.951568 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:19.951577 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:19.961878 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:19.961888 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:24.941340 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:24.941349 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:24.951597 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:24.951606 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:24.961811 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:24.961818 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:25.495928 IP 183.16.171.56.35176 > public1.alidns.com.domain: 52617+ A? nat.emule.org.cn. (34)
11:11:25.503529 IP public1.alidns.com.domain > 183.16.171.56.35176: 52617 0/1/0 (111)
11:11:29.670663 IP 183.16.171.56.ntp > time3.google.com.ntp: NTPv4, Client, length 48
11:11:29.941262 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:29.941273 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:29.951576 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:29.951584 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:29.961850 IP 183.16.171.56.42407 > 10.1.1.98.52416: UDP, length 60
11:11:29.961857 IP 183.16.171.56.42407 > 116.30.171.74.52416: UDP, length 64
11:11:30.501002 IP 183.16.171.56.2378 > public1.alidns.com.domain: 9355+ PTR? 15.36.239.216.in-addr.arpa. (44)
11:11:30.509687 IP public1.alidns.com.domain > 183.16.171.56.2378: 9355 1/0/0 PTR time3.google.com. (74)
11:11:39.409266 IP 183.16.171.56.35282 > 58.220.12.40.8000: UDP, length 53
11:11:39.436716 IP 58.220.12.40.8000 > 183.16.171.56.35282: UDP, length 35
11:11:40.817526 IP 183.16.171.56.41755 > 183.60.209.35.80: UDP, length 172
11:11:40.826760 IP 183.60.209.35.80 > 183.16.171.56.41755: UDP, length 28
^C
72 packets captured
74 packets received by filter
0 packets dropped by kernel
